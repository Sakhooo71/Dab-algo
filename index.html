<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DAB</title>
</head>
<body>
    <h1 align="center">Retrait DAB</h1>
    <p align="center">
        Veuillez ciquer sur le bouton ci dessous pour retirer de l'argent
    </p>
    <button onclick="cardChecker()">
    <div class="app">

    </div>

<script>
    // Variables
    const clientBalance = 1200
    const atmBalance = 1200
    const passcard = 9513
    let card = parseInt(prompt('Choisissez une carte: 1, 2, ou 3 ')) 
    const app = document.querySelector(".app")



// Functions
/*
    Type de cartes de l'app
    1 : CB Valide
    2 : CB Valide Bloquée
    3 : CB Non Valide
 */

 // Tout ce qui n'est pas un nombre et qui et au dessus de 3

  /*
   * Cette foction permet de verifier le code de la carte
   * A l'aide d'une condition nous allons verifier que la carte
   * est 2 ou 1. Tous les autres scénarios seront "CB non valide"
   */
function cardChecker (){
    if (typeof(card) =='number' && (card <= 3 || card >= 4) ) 
        if (card === 2 ) {
            app.innerText='CB Bloquée'
        } else  {
            app.innerText='CB Non Valide'
        
        } 
        else {
            passChecker()
        }

   }
   /*
   * Cette foction permet de verifier le code de la carte
   * A l'aide d'une boucle nous allons permettre 3 essais
   * Si un des 3 essais est valide, on met le compte de la boucle
   * au maximum afin de l'arrêter et on lance la fonction pour
   * choisir l montant à retirer.
   */
   function passChecker() {
      app.innerText ='CB Valide'    
      for (let index = 0; index < 3; index++) {
        let passprompt = parseInt(Prompt('saisissez votre code'))
         if (passprompt=== passcard) {
           index = 3
        amountchoice()
   
     }    
    }
        console.log(box)    
    }

function amountchoice (){
    app.innerText= 'Combien voulez-vous retirer ?'

    }

    
    </script>
</body>

</html>